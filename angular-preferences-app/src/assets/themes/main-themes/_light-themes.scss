@use 'sass:map';
@use '@angular/material' as mat;
@use 'theme-definitions' as defs;

// 1. Generate standard light themes for each density level
@each $theme-name, $theme-config in defs.$themes {
  @for $i from 0 through 5 {
    .#{$theme-name}-theme.density-#{$i} {
      @include mat.theme((
        color: (
          primary: map.get($theme-config, 'primary'),
          tertiary: map.get($theme-config, 'tertiary'),
          theme-type: light
        ),
        density: -$i
      ));
    }
  }
}

// 2. Generate high-contrast overrides using the new central mixin.
.high-contrast-mode {
  @each $theme-name, $theme-config in defs.$themes {
    &.#{$theme-name}-theme {
      @include defs.apply-high-contrast($theme-name, light);
    }
  }
}